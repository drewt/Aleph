<html>
  <head>
    <title>Feeds - Î»leph</title>
  </head>
  <body onload="populateFeedList()">
    <div id="content">
      <table id="feedtab">
        <thead>
          <tr>
            <th class="name">Name</th>
            <th class="unread">Unread</th>
          </tr>
        </thead>
        <tbody id="feeds">
        </tbody>
      </table>
    </div>

    <script src="/aleph.js"></script>
    <script>
      function populateFeedList() {
        Aleph.getFeeds(function(feeds) {
          var table = document.getElementById("feedtab");
          for (i = 0; i < feeds.length; i++) {
            var row = table.insertRow(-1);
            var name = row.insertCell(0);
            var unread = row.insertCell(1);
            name.innerHTML = `<a href="/client/feed?id=${feeds[i].id}">${feeds[i].name}</a>`
            unread.innerHTML = feeds[i].unread;
          }
        });
      }
    </script>

  </body>
</html>
